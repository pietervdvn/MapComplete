{
  "id": "transit_routes",
  "name": {
    "en": "Bus lines",
    "de": "Buslinien",
    "nl": "Buslijnen",
    "da": "Buslinjer",
    "ca": "L√≠nies de bus",
    "cs": "Autobusov√© linky"
  },
  "description": {
    "en": "Layer showing bus lines",
    "de": "Ebene mit Buslinien",
    "nl": "Laag met buslijnen",
    "da": "Lag, der viser buslinjer",
    "ca": "Capa que mostra les l√≠nies d'autob√∫s",
    "cs": "Vrstva zobrazuj√≠c√≠ autobusov√© linky"
  },
  "source": {
    "osmTags": {
      "and": [
        "type=route",
        "route=bus"
      ]
    }
  },
  "calculatedTags": [
    "_numeric_id=feat.properties.id.split('/')[1]"
  ],
  "minzoom": 15,
  "title": {
    "render": {
      "en": "Bus line",
      "de": "Buslinie",
      "nl": "Buslijn",
      "da": "Buslinje",
      "ca": "L√≠nia de bus",
      "cs": "Autobusov√° linka"
    },
    "mappings": [
      {
        "if": "name~*",
        "then": {
          "en": "{name}",
          "de": "{name}",
          "da": "{name}",
          "nl": "{name}",
          "ca": "{name}",
          "cs": "{name}"
        }
      }
    ]
  },
  "titleIcons": [
    {
      "condition": {
        "and": [
          "id~relation/[0-9]+",
          "_numeric_id~*"
        ]
      },
      "render": "<a href=' https://relatify.monicz.dev/?relation={_numeric_id}&load=1' target='_blank' rel='noopener'><img alt='on relatify' textmode='üó∫Ô∏è' src='./assets/layers/transit_routes/relatify.png'/></a>"
    },
    {
      "id": "wikipedialink",
      "labels": [
        "defaults",
        "in_favourite"
      ],
      "render": "<a href='https://wikipedia.org/wiki/{wikipedia}' target='_blank' rel='noopener'><img src='./assets/svg/wikipedia.svg' textmode='üìñ' alt='Wikipedia'/></a>",
      "condition": {
        "or": [
          "wikipedia~*",
          "wikidata~*"
        ]
      },
      "mappings": [
        {
          "#": "ignore-image-in-then",
          "if": "wikipedia=",
          "then": "<a class='h-8' href='https://www.wikidata.org/wiki/{wikidata}' target='_blank' rel='noopener'><img src='./assets/svg/wikidata.svg' alt='Wikidata'/></a>"
        }
      ]
    },
    {
      "id": "open_until",
      "labels": [
        "defaults",
        "in_favourite"
      ],
      "#": "Titleicon showing e.g. 'open until 17:00'",
      "icon": {
        "class": "w-20 mx-1 flex items-center"
      },
      "render": "{opening_hours_state()}",
      "condition": {
        "or": [
          "opening_hours~*",
          {
            "or": [
              {
                "and": [
                  "seasonal~.*winter.*",
                  "_now:date~....-(12|01|02)-.."
                ]
              },
              {
                "and": [
                  "seasonal~.*spring.*",
                  "_now:date~....-(03|04|05)-.."
                ]
              },
              {
                "and": [
                  "seasonal~.*summer.*",
                  "_now:date~....-(06|07|08)-.."
                ]
              },
              {
                "and": [
                  "seasonal~.*autumn.*",
                  "_now:date~....-(09|10|11)-.."
                ]
              }
            ]
          }
        ]
      }
    },
    {
      "id": "phonelink",
      "labels": [
        "defaults",
        "in_favourite"
      ],
      "render": {
        "de": "{link(<img textmode='üìû' alt='phone' src='./assets/layers/questions/phone.svg'/>,tel:&LBRACEphone&RBRACE,,,Telefon)}",
        "en": "{link(<img textmode='üìû' alt='phone' src='./assets/layers/questions/phone.svg'/>,tel:&LBRACEphone&RBRACE,,,phone)}",
        "nl": "{link(<img textmode='üìû' alt='phone' src='./assets/layers/questions/phone.svg'/>,tel:&LBRACEphone&RBRACE,,,Telefoneer)}",
        "_context": "layers:icons.tagRenderings.phonelink.render"
      },
      "mappings": [
        {
          "#": "ignore-image-in-then",
          "if": "contact:phone~*",
          "then": {
            "de": "{link(<img textmode='üìû' alt='phone' src='./assets/layers/questions/phone.svg'/>,tel:&LBRACEcontact:phone&RBRACE,,,Telefon)}",
            "en": "{link(<img textmode='üìû' alt='phone' src='./assets/layers/questions/phone.svg'/>,tel:&LBRACEcontact:phone&RBRACE,,,phone)}",
            "nl": "{link(<img textmode='üìû' alt='phone' src='./assets/layers/questions/phone.svg'/>,tel:&LBRACEcontact:phone&RBRACE,,,Telefoneer)}",
            "_context": "layers:icons.tagRenderings.phonelink.mappings.0.then"
          }
        }
      ],
      "condition": {
        "or": [
          "phone~*",
          "contact:phone~*"
        ]
      }
    },
    {
      "id": "emaillink",
      "labels": [
        "defaults",
        "in_favourite"
      ],
      "render": "<a href='mailto:{email}'><img textmode='‚úâÔ∏è' alt='email' src='./assets/layers/questions/send_email.svg'/></a>",
      "mappings": [
        {
          "#": "ignore-image-in-then",
          "if": "contact:email~*",
          "then": "<a href='mailto:{contact:email}'><img textmode='‚úâÔ∏è' alt='email' src='./assets/layers/questions/send_email.svg'/></a>"
        },
        {
          "#": "ignore-image-in-then",
          "if": "operator:email~*",
          "then": "<a href='mailto:{operator:email}'><img textmode='‚úâÔ∏è' alt='email' src='./assets/layers/questions/send_email.svg'/></a>"
        }
      ],
      "condition": {
        "or": [
          "email~*",
          "contact:email~*",
          "operator:email~*"
        ]
      }
    },
    {
      "id": "websitelink",
      "labels": [
        "defaults",
        "in_favourite"
      ],
      "mappings": [
        {
          "#": "ignore-image-in-then",
          "if": "website~*",
          "then": "<a href='{website}' target='_blank' rel='noopener'><img textmode='üåê' alt='website' src='./assets/layers/icons/website.svg'/></a>"
        },
        {
          "#": "ignore-image-in-then",
          "if": "operator:website~*",
          "then": "<a href='{operator:website}' target='_blank' rel='noopener'><img textmode='üåê' alt='website' src='./assets/layers/icons/website.svg'/></a>"
        },
        {
          "#": "ignore-image-in-then",
          "if": "context:website~*",
          "then": "<a href='{contact:website}' target='_blank' rel='noopener'><img textmode='üåê' alt='website' src='./assets/layers/icons/website.svg'/></a>"
        }
      ]
    },
    {
      "id": "smokingicon",
      "labels": [
        "defaults",
        "in_favourite"
      ],
      "mappings": [
        {
          "#": "ignore-image-in-then",
          "if": "smoking=no",
          "then": "<img textmode='üö≠Ô∏è' alt='no smoking' src='./assets/layers/questions/no_smoking.svg'/>"
        },
        {
          "#": "ignore-image-in-then",
          "if": "smoking=yes",
          "then": "<img textmode='üö¨Ô∏è' alt='smoking allowed' src='./assets/layers/questions/smoking.svg'/>"
        }
      ]
    },
    {
      "id": "dogicon",
      "labels": [
        "defaults",
        "in_favourite"
      ],
      "mappings": [
        {
          "if": "dog=no",
          "#": "ignore-image-in-then",
          "then": "<img textmode='üêï ‚É†' alt='no_dogs' src='./assets/layers/questions/no_dogs.svg'>"
        },
        {
          "if": "dog=leashed",
          "#": "ignore-image-in-then",
          "then": "<img textmode='üêï' alt='dogs are allowed but leashed' src='./assets/layers/questions/dogs_leashed.svg'>"
        },
        {
          "if": {
            "or": [
              "dog=yes",
              "dog=unleashed"
            ]
          },
          "#": "ignore-image-in-then",
          "then": "<img textmode='üêï' alt='dogs are allowed' src='./assets/layers/questions/dogs_allowed.svg'>"
        }
      ]
    },
    {
      "id": "sharelink",
      "labels": [
        "defaults"
      ],
      "render": "{share_link()}",
      "metacondition": "_supports_sharing=yes"
    },
    {
      "id": "favourite_title_icon",
      "labels": [
        "defaults"
      ],
      "render": {
        "*": "{favourite_icon()}"
      },
      "metacondition": "_loggedIn=true"
    },
    {
      "id": "osmlink",
      "labels": [
        "defaults"
      ],
      "render": {
        "de": "{link(<img alt='on osm' textmode='üó∫Ô∏è' src='./assets/svg/osm-logo-us.svg'/>,https://openstreetmap.org/&LBRACEid&RBRACE,,,Auf openstreetmap.org √∂ffnen)}",
        "en": "{link(<img alt='on osm' textmode='üó∫Ô∏è' src='./assets/svg/osm-logo-us.svg'/>,https://openstreetmap.org/&LBRACEid&RBRACE,,,Open on openstreetmap.org)}",
        "nl": "{link(<img alt='on osm' textmode='üó∫Ô∏è' src='./assets/svg/osm-logo-us.svg'/>,https://openstreetmap.org/&LBRACEid&RBRACE,,,Bekijk op openstreetmap.org)}",
        "_context": "layers:icons.tagRenderings.osmlink.render"
      },
      "mappings": [
        {
          "if": "id~.*/-.*",
          "then": ""
        },
        {
          "#": "ignore-image-in-then",
          "if": "_backend~*",
          "then": {
            "de": "{link(<img alt='on osm' textmode='üó∫Ô∏è' src='./assets/svg/osm-logo-us.svg'/>,&LBRACE_backend&RBRACE/&LBRACEid&RBRACE,,,Auf openstreetmap.org √∂ffnen)}",
            "en": "{link(<img alt='on osm' textmode='üó∫Ô∏è' src='./assets/svg/osm-logo-us.svg'/>,&LBRACE_backend&RBRACE/&LBRACEid&RBRACE,,,Open on openstreetmap.org)}",
            "nl": "{link(<img alt='on osm' textmode='üó∫Ô∏è' src='./assets/svg/osm-logo-us.svg'/>,&LBRACE_backend&RBRACE/&LBRACEid&RBRACE,,,Bekijk op openstreetmap.org)}",
            "_context": "layers:icons.tagRenderings.osmlink.mappings.1.then"
          }
        }
      ],
      "condition": "id~(node|way|relation)/[0-9]*"
    },
    {
      "id": "direction",
      "labels": [
        "defaults",
        "in_favourite"
      ],
      "render": "{direction_indicator()}"
    }
  ],
  "pointRendering": null,
  "lineRendering": [
    {
      "color": {
        "render": "#ff0000",
        "mappings": [
          {
            "if": "colour~*",
            "then": "{colour}"
          }
        ]
      }
    }
  ],
  "tagRenderings": [
    {
      "id": "just_created",
      "labels": [
        "added_by_default"
      ],
      "description": "This element shows a 'thank you' that the contributor has recently created this element",
      "classes": "rounded-xl thanks",
      "mappings": [
        {
          "if": "id~*",
          "icon": "./assets/svg/party.svg",
          "then": {
            "ca": "Acabeu de crear aquest element! Gr√†cies per compartir aquesta informaci√≥ amb el mon i ajudar a persones al voltant del m√≥n.",
            "de": "Sie haben gerade dieses Element erstellt! Vielen Dank, dass Sie diese Informationen mit der Welt teilen und Menschen weltweit helfen.",
            "en": "You just created this element! Thanks for sharing this info with the world and helping people worldwide.",
            "fr": "Vous venez de cr√©er cet √©l√©ment ! Merci d'avoir partag√© cette information avec le monde et d'aider les autres personnes.",
            "nl": "Je hebt dit punt net toegevoegd! Bedankt om deze info met iedereen te delen en om de mensen wereldwijd te helpen.",
            "cs": "Tento prvek jste pr√°vƒõ vytvo≈ôili! D√≠ky za sd√≠len√≠ tƒõchto informac√≠ se svƒõtem a pomoc lidem po cel√©m svƒõtƒõ."
          }
        }
      ],
      "condition": {
        "and": [
          "_backend~*",
          "_last_edit:passed_time<300",
          {
            "or": [
              "_version_number=",
              "_version_number=1"
            ]
          }
        ]
      },
      "metacondition": {
        "and": [
          {
            "#": "if _last_edit:contributor:uid is unset, then the point hasn't been uploaded yet",
            "or": [
              "_last_edit:contributor:uid:={_uid}",
              "_last_edit:contributor:uid="
            ]
          }
        ]
      }
    },
    {
      "id": "name",
      "freeform": {
        "key": "name",
        "type": "string",
        "placeholder": "Bus XX: From => Via => To",
        "inline": true
      },
      "render": "{name}",
      "question": {
        "en": "What is the name for this bus line? (i.e. Bus XX: From => Via => To)",
        "de": "Wie lautet der Name der Buslinie? (z.B. Bus XX: Von => √úber => Nach)",
        "nl": "Wat is de naam van deze buslijn (bv. Bus XX: Van => Via => Naar)",
        "cs": "Jak se jmenuje tato autobusov√° linka? (tj. Autobus XX: Od => P≈ôes => Do)"
      }
    },
    {
      "id": "from",
      "freeform": {
        "key": "from",
        "type": "string",
        "placeholder": "City, Stop Name",
        "inline": true
      },
      "render": {
        "en": "This bus line begins at {from}",
        "de": "Die Buslinie startet von {from}",
        "nl": "Deze buslijn begint bij {from}",
        "da": "Denne buslinje starter kl. {from}",
        "fr": "Cette ligne de bus commence √† {from}",
        "ca": "Aquesta l√≠nia d'autob√∫s comen√ßa a {from}",
        "cs": "Tato autobusov√° linka zaƒç√≠n√° v {from}"
      },
      "question": {
        "en": "What is the starting point for this bus line?",
        "de": "Wo ist der Startpunkt dieser Buslinie?",
        "nl": "Wat is het beginpunt van deze buslijn?",
        "da": "Hvad er udgangspunktet for denne buslinje?",
        "ca": "Quin √©s el punt inicial d'aquesta l√≠nea d'autob√∫s?",
        "cs": "Jak√Ω je v√Ωchoz√≠ bod t√©to autobusov√© linky?"
      }
    },
    {
      "id": "via",
      "freeform": {
        "key": "via",
        "type": "string",
        "placeholder": "City, Stop Name",
        "inline": true
      },
      "render": {
        "en": "This bus line goes via {via}",
        "de": "Die Buslinie f√§hrt √ºber {via}",
        "nl": "Deze buslijn gaat via {via}",
        "da": "Denne buslinje g√•r via {via}",
        "fr": "Cette ligne de bus passe par {via}",
        "ca": "Aquesta l√≠nia d'autob√∫s passa per {via}",
        "cs": "Tato autobusov√° linka jede p≈ôes {via}"
      },
      "question": {
        "en": "What is the via point for this bus line?",
        "de": "√úber welchen Zwischenhalt f√§hrt die Buslinie?",
        "nl": "Via welk punt gaat deze buslijn?",
        "cs": "Jak√Ω je pr≈Øjezdn√≠ bod t√©to autobusov√© linky?"
      }
    },
    {
      "id": "to",
      "freeform": {
        "key": "to",
        "type": "string",
        "placeholder": "City, Stop Name",
        "inline": true
      },
      "render": {
        "en": "This bus line ends at {to}",
        "de": "Der Endpunkt der Buslinie ist {to}",
        "nl": "Deze buslijn eindigt bij {to}",
        "da": "Denne buslinje slutter ved {to}",
        "fr": "Cette ligne de bus termine √† {to}",
        "ca": "Aquesta l√≠nia d'autob√∫s acaba a {to}",
        "cs": "Tato autobusov√° linka konƒç√≠ v {to}"
      },
      "question": {
        "en": "What is the ending point for this bus line?",
        "de": "Wo ist der Endpunkt der Buslinie?",
        "nl": "Wat is het eindpunt van deze buslijn?",
        "da": "Hvad er endestationen for denne buslinje?",
        "ca": "Quin √©s el punt final d'aquesta l√≠nea d'autob√∫s?",
        "cs": "Jak√Ω je koneƒçn√Ω bod t√©to autobusov√© linky?"
      }
    },
    {
      "id": "colour",
      "freeform": {
        "key": "colour",
        "type": "color",
        "inline": true
      },
      "render": {
        "en": "This bus line has the color {colour}",
        "de": "Die Buslinie hat die Farbe {colour}",
        "nl": "Deze buslijn heeft de kleur {colour}",
        "da": "Denne buslinje har farven {colour}",
        "ca": "Aquesta l√≠nea d'autob√∫s t√© el color {colour}",
        "cs": "Tato autobusov√° linka m√° barvu {colour}"
      },
      "question": {
        "en": "What is the colour for this bus line?",
        "de": "Welche Farbe hat diese Buslinie?",
        "nl": "Wat is de kleur van deze buslijn?",
        "da": "Hvad er farven p√• denne buslinje?",
        "ca": "Quin √©s el color d'aquest l√≠nia d'autob√∫s?",
        "cs": "Jakou barvu m√° tato autobusov√° linka?"
      }
    },
    {
      "id": "network",
      "freeform": {
        "key": "network",
        "type": "string",
        "inline": true
      },
      "render": {
        "en": "This bus line is part of the {network} network",
        "de": "Die Buslinie geh√∂rt zum Verkehrsverbund {network}",
        "nl": "Deze buslijn is onderdeel van het {network} netwerk",
        "ca": "Aquesta l√≠nea d'autob√∫s √©s part de la xarxa {network}",
        "fr": "Cette ligne de bus fait partie du r√©seau {network}",
        "cs": "Tato autobusov√° linka je souƒç√°st√≠ s√≠tƒõ {network}"
      },
      "question": {
        "en": "What network does this bus line belong to?",
        "de": "Zu welchem Verkehrsverbund geh√∂rt die Buslinie?",
        "nl": "Bij welk netwerk hoort deze buslijn?",
        "da": "Hvilket netv√¶rk tilh√∏rer denne buslinje?",
        "ca": "A quina xarxa pertany aquesta l√≠nea d'autob√∫s?",
        "cs": "Do jak√© s√≠tƒõ tato autobusov√° linka pat≈ô√≠?"
      }
    },
    {
      "id": "operator",
      "freeform": {
        "key": "operator",
        "type": "string",
        "inline": true
      },
      "render": {
        "en": "This bus line is operated by {operator}",
        "de": "Die Buslinie wird betrieben von {operator}",
        "nl": "Deze buslijn wordt ge√´xploiteerd door {operator}",
        "da": "Denne buslinje drives af {operator}",
        "ca": "{operator} opera aquesta l√≠nea d'autob√∫s",
        "fr": "Cette ligne de bus est g√©r√©e par {operator}",
        "cs": "Tuto autobusovou linku provozuje {operator}"
      },
      "question": {
        "en": "What company operates this bus line?",
        "de": "Welches Unternehmen betreibt die Buslinie?",
        "nl": "Welk bedrijf exploiteert deze buslijn?",
        "da": "Hvilket selskab driver denne buslinje?",
        "ca": "Quina companyia opera aquesta l√≠nia d'autob√∫s?",
        "cs": "Jak√° spoleƒçnost provozuje tuto autobusovou linku?"
      }
    },
    {
      "id": "leftover-questions",
      "render": {
        "*": "{questions( ,)}"
      }
    },
    {
      "id": "lod",
      "labels": [
        "added_by_default"
      ],
      "render": {
        "*": "{linked_data_from_website()}"
      }
    },
    {
      "id": "minimap",
      "description": "Shows a small map with the feature. Added by default to every popup",
      "render": {
        "*": "{minimap(18, id): width:100%; height:8rem; border-radius:2rem; overflow: hidden; pointer-events: none;}"
      }
    },
    {
      "id": "last_edit",
      "labels": [
        "added_by_default"
      ],
      "description": "Gives some metainfo about the last edit and who did edit it - rendering only",
      "condition": {
        "and": [
          "_last_edit:contributor~*",
          "_last_edit:changeset~*"
        ]
      },
      "metacondition": {
        "or": [
          "__featureSwitchIsTesting=true",
          "__featureSwitchIsDebugging=true",
          "mapcomplete-show_debug=yes",
          "_csCount>=10"
        ]
      },
      "render": {
        "ca": "{link(Darrera edici√≥ el &LBRACE_last_edit:timestamp&RBRACE per &LBRACE_last_edit:contributor&RBRACE,&LBRACE_backend&RBRACE/changeset/&LBRACE_last_edit:changeset&RBRACE,subtle font-small,,)}",
        "cs": "{link(Naposledy upravil &LBRACE_last_edit:timestamp&RBRACE &LBRACE_last_edit:contributor&RBRACE,&LBRACE_backend&RBRACE/changeset/&LBRACE_last_edit:changeset&RBRACE,subtle font-small,,)}",
        "de": "{link(Zuletzt bearbeitet am &LBRACE_last_edit:timestamp&RBRACE von &LBRACE_last_edit:contributor&RBRACE,&LBRACE_backend&RBRACE/changeset/&LBRACE_last_edit:changeset&RBRACE,subtle font-small,,)}",
        "en": "{link(Last edited on &LBRACE_last_edit:timestamp&RBRACE by &LBRACE_last_edit:contributor&RBRACE,&LBRACE_backend&RBRACE/changeset/&LBRACE_last_edit:changeset&RBRACE,subtle font-small,,)}",
        "nl": "{link(Laatst gewijzigd op &LBRACE_last_edit:timestamp&RBRACE door &LBRACE_last_edit:contributor&RBRACE ,&LBRACE_backend&RBRACE/changeset/&LBRACE_last_edit:changeset&RBRACE,subtle font-small,,)}"
      }
    },
    {
      "id": "favourite_status",
      "render": {
        "*": "{favourite_status()}"
      }
    },
    {
      "id": "qr_code",
      "labels": [
        "added_by_default"
      ],
      "classes": "flex items-center gap-x-2",
      "render": {
        "de": "{qr_code()}Scannen Sie den Code, um diesen Ort auf einem anderen Ger√§t zu √∂ffnen",
        "en": "{qr_code()}Scan this code to open this location on another device",
        "nl": "{qr_code()}Scan deze code om deze locatie op een ander apparaat te zien",
        "sl": "{qr_code()}Skenirajte to kodo, da odprete ta kraj na drugi napravi"
      }
    },
    {
      "id": "share",
      "labels": [
        "added_by_default"
      ],
      "metacondition": "_supports_sharing=yes",
      "render": {
        "de": "{share_link(,Standort teilen)}",
        "en": "{share_link(,Share this location)}",
        "nl": "{share_link(,Deel deze locatie)}"
      }
    },
    {
      "id": "all-tags",
      "render": {
        "*": "{all_tags()}"
      },
      "metacondition": {
        "or": [
          "__featureSwitchIsDebugging=true",
          "mapcomplete-show_tags=full",
          "mapcomplete-show_debug=yes"
        ]
      }
    }
  ],
  "cs": {
    "0": {
      "color": {
        "render": "#ff0000"
      }
    }
  },
  "_layerIcon": []
}